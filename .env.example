# ===================================
# LLM Marketplace - Environment Variables
# ===================================
# Copy this file to .env and update with your values
# DO NOT commit .env to version control

# ===================================
# Application Configuration
# ===================================
NODE_ENV=development
PORT=3000
LOG_LEVEL=debug
APP_NAME=llm-marketplace
APP_VERSION=1.0.0

# ===================================
# Database Configuration (PostgreSQL)
# ===================================
DATABASE_URL=postgresql://marketplace_user:marketplace_password@localhost:5432/llm_marketplace
DB_HOST=localhost
DB_PORT=5432
DB_NAME=llm_marketplace
DB_USER=marketplace_user
DB_PASSWORD=marketplace_password
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_SSL=false

# ===================================
# Redis Configuration
# ===================================
REDIS_URL=redis://:redis_password@localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=redis_password
REDIS_DB=0
REDIS_TTL=3600

# ===================================
# Elasticsearch Configuration
# ===================================
ELASTICSEARCH_URL=http://localhost:9200
ELASTICSEARCH_INDEX_PREFIX=marketplace
ELASTICSEARCH_USERNAME=
ELASTICSEARCH_PASSWORD=

# ===================================
# Kafka Configuration
# ===================================
KAFKA_BROKERS=localhost:29092
KAFKA_CLIENT_ID=llm-marketplace
KAFKA_GROUP_ID=marketplace-consumers
KAFKA_TOPIC_PREFIX=marketplace

# Event Topics
KAFKA_TOPIC_SERVICE_PUBLISHED=marketplace.service.published
KAFKA_TOPIC_SERVICE_CONSUMED=marketplace.service.consumed
KAFKA_TOPIC_AUDIT_LOGS=marketplace.audit.logs
KAFKA_TOPIC_METRICS=marketplace.metrics

# ===================================
# Authentication & Authorization
# ===================================
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRY=24h
JWT_REFRESH_EXPIRY=7d
JWT_ISSUER=llm-marketplace
JWT_AUDIENCE=marketplace-api

# OAuth2 Configuration (Keycloak)
OAUTH2_ENABLED=false
OAUTH2_ISSUER_URL=http://localhost:8080/realms/marketplace
OAUTH2_CLIENT_ID=marketplace-client
OAUTH2_CLIENT_SECRET=your-oauth2-client-secret
OAUTH2_REDIRECT_URI=http://localhost:3000/auth/callback

# ===================================
# External Service Integrations
# ===================================

# LLM Registry Integration
REGISTRY_URL=http://localhost:4000
REGISTRY_API_KEY=registry-api-key
REGISTRY_SYNC_INTERVAL=3600000

# Policy Engine Integration
POLICY_ENGINE_URL=http://localhost:4001
POLICY_ENGINE_API_KEY=policy-engine-api-key
POLICY_ENGINE_GRPC_URL=localhost:50051
POLICY_VALIDATION_TIMEOUT=5000

# Analytics Hub Integration
ANALYTICS_HUB_URL=http://localhost:4002
ANALYTICS_HUB_API_KEY=analytics-hub-api-key
ANALYTICS_BATCH_SIZE=100
ANALYTICS_FLUSH_INTERVAL=5000

# Governance Dashboard Integration
GOVERNANCE_DASHBOARD_URL=http://localhost:4003
GOVERNANCE_DASHBOARD_API_KEY=governance-dashboard-api-key
GOVERNANCE_WEBHOOK_SECRET=webhook-secret

# ===================================
# Observability & Monitoring
# ===================================

# Jaeger Tracing
JAEGER_ENABLED=true
JAEGER_ENDPOINT=http://localhost:14268/api/traces
JAEGER_AGENT_HOST=localhost
JAEGER_AGENT_PORT=6831
JAEGER_SAMPLER_TYPE=probabilistic
JAEGER_SAMPLER_PARAM=0.1

# Prometheus Metrics
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9091
PROMETHEUS_METRICS_PATH=/metrics

# Logging
LOG_FORMAT=json
LOG_OUTPUT=stdout
LOG_FILE_PATH=/var/log/marketplace/app.log
LOG_MAX_SIZE=100m
LOG_MAX_FILES=10
LOG_COMPRESS=true

# ===================================
# Service-Specific Configuration
# ===================================

# Discovery Service (Go)
DISCOVERY_PORT=3001
DISCOVERY_SEARCH_TIMEOUT=5000
DISCOVERY_MAX_RESULTS=100
DISCOVERY_CACHE_TTL=300

# Publishing Service (TypeScript/Node.js)
PUBLISHING_PORT=3002
PUBLISHING_UPLOAD_MAX_SIZE=50mb
PUBLISHING_VALIDATION_TIMEOUT=30000
PUBLISHING_APPROVAL_REQUIRED=false

# Consumption Service (Rust)
CONSUMPTION_PORT=3003
CONSUMPTION_MAX_CONCURRENT_REQUESTS=10000
CONSUMPTION_REQUEST_TIMEOUT=30000
CONSUMPTION_RATE_LIMIT_WINDOW=60000

# Admin Service (Python)
ADMIN_PORT=3004
ADMIN_WORKERS=4
ADMIN_RELOAD=true

# ===================================
# Rate Limiting & Quotas
# ===================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_FAILED_REQUESTS=false

# Quota Configuration
QUOTA_ENABLED=true
QUOTA_DEFAULT_MONTHLY_TOKENS=1000000
QUOTA_DEFAULT_MONTHLY_REQUESTS=10000

# ===================================
# Security & CORS
# ===================================
CORS_ENABLED=true
CORS_ORIGIN=http://localhost:3000,http://localhost:3001
CORS_CREDENTIALS=true
CORS_MAX_AGE=86400

# Security Headers
HELMET_ENABLED=true
HSTS_MAX_AGE=31536000
CONTENT_SECURITY_POLICY=default-src 'self'

# API Key Configuration
API_KEY_HEADER_NAME=X-API-Key
API_KEY_LENGTH=32
API_KEY_PREFIX=mp_

# ===================================
# Email & Notifications
# ===================================
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=notifications@example.com
SMTP_PASSWORD=smtp-password
EMAIL_FROM=noreply@llm-marketplace.com

# Notification Channels
NOTIFICATION_EMAIL_ENABLED=false
NOTIFICATION_SLACK_ENABLED=false
NOTIFICATION_SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# ===================================
# Feature Flags
# ===================================
FEATURE_AI_RECOMMENDATIONS=true
FEATURE_ADVANCED_ANALYTICS=false
FEATURE_MULTI_REGION=false
FEATURE_CUSTOM_DOMAINS=false
FEATURE_BETA_FEATURES=false

# ===================================
# Performance & Optimization
# ===================================
CACHE_ENABLED=true
COMPRESSION_ENABLED=true
COMPRESSION_THRESHOLD=1024

# Connection Pooling
HTTP_KEEP_ALIVE=true
HTTP_TIMEOUT=30000
HTTP_MAX_SOCKETS=100

# ===================================
# Deployment & Infrastructure
# ===================================
ENVIRONMENT=development
DEPLOYMENT_REGION=us-east-1
KUBERNETES_NAMESPACE=llm-marketplace-dev
KUBERNETES_SERVICE_ACCOUNT=marketplace-sa

# Health Checks
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health
READINESS_CHECK_PATH=/ready
LIVENESS_CHECK_PATH=/live

# ===================================
# Testing & Development
# ===================================
TEST_DATABASE_URL=postgresql://marketplace_user:marketplace_password@localhost:5432/llm_marketplace_test
MOCK_EXTERNAL_SERVICES=false
SEED_DATA_ENABLED=false
DEBUG_MODE=false

# ===================================
# Cloud Provider Configuration (AWS Example)
# ===================================
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
S3_BUCKET_NAME=llm-marketplace-assets
S3_BUCKET_REGION=us-east-1

# ===================================
# Temporal Workflow Engine
# ===================================
TEMPORAL_ENABLED=false
TEMPORAL_HOST=localhost:7233
TEMPORAL_NAMESPACE=marketplace
TEMPORAL_TASK_QUEUE=marketplace-tasks

# ===================================
# Search & Indexing
# ===================================
SEARCH_ENGINE=elasticsearch
SEARCH_INDEX_NAME=services
SEARCH_ANALYZER=standard
SEARCH_MIN_SCORE=0.1
SEARCH_FUZZY_ENABLED=true
SEMANTIC_SEARCH_ENABLED=true
EMBEDDING_MODEL=text-embedding-ada-002

# ===================================
# Pricing & Billing
# ===================================
BILLING_ENABLED=false
BILLING_CURRENCY=USD
BILLING_CYCLE=monthly
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# ===================================
# Compliance & Audit
# ===================================
AUDIT_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=90
GDPR_COMPLIANCE_ENABLED=true
SOC2_COMPLIANCE_ENABLED=true
DATA_RESIDENCY_ENFORCEMENT=false

# ===================================
# AI/ML Configuration
# ===================================
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_ORG_ID=org-your-organization-id
OPENAI_MODEL=gpt-4
EMBEDDING_CACHE_ENABLED=true
